{"componentChunkName":"component---src-templates-lesson-js","path":"/courses/magento-2-beginner/template-layout-rendering","result":{"data":{"LessonQuery":{"html":"<p><div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.42857142857143%; position: relative; height: 0; overflow: hidden; \" > <div class=\"embedVideo-container\"> <iframe src=\"https://www.youtube-nocookie.com/embed/d_JdxSL_BMQ?rel=0\" class=\"embedVideo-iframe\" style=\"border:0; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" allowfullscreen></iframe> </div> </div></p>\n<h1>Template and Layout Rendering</h1>\n<p>Magento 2 provides a powerful mechanism on extending e-commerce functionality with custom templates. It also allows to provide additional pieces of content by utilizing a declarative approach.</p>\n<h2>Lesson Overview</h2>\n<p>In this lesson we are going to learn the following:</p>\n<ul>\n<li>How to create a template?</li>\n<li>How to render a template on a custom Magento 2 page?</li>\n<li>How to add a template via layout configuration file?</li>\n</ul>\n<h2>Before we begin</h2>\n<p>Here is the structure of the module, we are going to start with:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 410px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a7b15b731420530d295d9bcee35b9712/2cc7b/lesson-6-structure.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 114.8780487804878%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEXklEQVQ4y12USW8bRxCF5wfZgK2FWkhxX4f7vlPcxF0aiaJEUZQoWZBt2T7l4gQIkkP+RJBDgCCH/KyHvCpKgZBDTQ+66339qqanDevrj+hdPKB/9XEd80cMFp9g3X3D5OYLTlYcb9fjaPkZ45snnZccyX3RCcN6+g6je36PQqGFcrWPcqWHQqmLRnOMDw9fsbz5iLv7L5ie32J194TL+T0W148aklMsH6FEjWgLhTY6ZysCSS6Uuyg3RijVB6jIWBsgz+SCJFIg73kR1oeaJ6PklGR8nhNGh+YMeeTosFjrI1vswJreaPTHFzganmPAsTea4Whwzs2G642kktfBjYXREoet6R0yuUNNzNB2bzjD2FqgT8joeI7RyZVCh5NLVA9HummObVlHRyNPd8JoWjcwmqe3SGXqmpjON1nOADP2SgDyXqz2UKywVzUpXzZt6cbrcR3ZYlsZjZNrGA1riUSqSlgLKe4iCeJscrrQkju9U4WPrSvUW2Mksw2kc03NfQkxIoz6ZAGjfnyNWKKsiclMAzEuCLTeHKHRmuh7Il1HNFHhWg0JOvl/iFYY1fEcRnVyBTNaQDxdQ5yCaLKiJairkzk/xhTd/pm+H9P1YXsCk2LJlc0lRGvGiqgML2FURnOEIzkFRZkY4UKmwF7WevwIQwXm2XgRCkjyZHwdMhc2cygNZjBKwwsEQxlE4iWFBc08e3SIXLGtYGu6ZB8ttLonhJ/RTRUh5oSZ+xKiFUaxN4VR7M/gD6QQYtmSGAhn2ZcaXbXhY1KW0AY/xmA80znzuQpTIMyXEK0w8kdnMAqken0JBFi2wLzBNPtT4Zc7hIvzAj2/XOGvv//BaHLBw91Xx93+qWr81MgojFzHgpHrnsLtianQR5jHn9TdqxTWm0N+YTY+WWYPK7qZl05ej6IRrTAy7WMYWVKdLhMeJgjM5Y2zhLwCX6CVek+FDncUTgqdzJHc/4JaYaSbExhpUh0HIS1PYAcUCTCaKCHDsrt9Sx2a8aK6TWZruub0xqiJq0a0wkjy1zRSpO7bAzjgzgKzOyMIRrJsfIHAhjrMl1oqjCZL/PpNBe7ag5orGtEKI8Gbx0iQurvnYzkm7K4I9hwh+ENpBYbpVODDyQzff/pVNwhEMuo2RniIZ2+PzkQrjBj/dyNOqm3Hg31nWBd39v1seFJBiXSF/UnwDE7w8y+/Pbsr6rwAfcEUnQZUK4woLw8jSurWtgu7jiB2uLi964WbvRHg2/d23N59wu9//AkH3ZvxdRsEFqTTTZtbgVK+MCK80gyT19PGlhM2LtjobmvHyybHeL7SuLr+gKdvP6irbKHB88lLJFNlO/L8YyprAyxVRmGE+YsaQV49b99s4/3mAd5t2DU2tg6wue3EcvmA1eoRm0yOmDz0slGAR8YbRSCUpMaBd6xCtG/f2ODnzWPkjxfw8CD7eQXJhISPt4fETiANG8+YvLv4y7l5Cbh5jXl0LMP3nC9aYWR5ff0LvHGiAqL1soEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Module Structure Template and Layout Rendering\"\n        title=\"Module Structure Template and Layout Rendering\"\n        src=\"/static/a7b15b731420530d295d9bcee35b9712/2cc7b/lesson-6-structure.png\"\n        srcset=\"/static/a7b15b731420530d295d9bcee35b9712/8c2ab/lesson-6-structure.png 300w,\n/static/a7b15b731420530d295d9bcee35b9712/2cc7b/lesson-6-structure.png 410w\"\n        sizes=\"(max-width: 410px) 100vw, 410px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>For this tutorial, I've created the <code class=\"language-text\">MageMastery_FirstLayout</code> module with the <code class=\"language-text\">registration.php</code> and <code class=\"language-text\">module.xml</code> files. And the module has been successfully registered with the <code class=\"language-text\">bin/magento setup:upgrade</code> CLI command.</p>\n<p>The <code class=\"language-text\">registration.php</code> file:</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n\n<span class=\"token keyword\">use</span> <span class=\"token package\">Magento<span class=\"token punctuation\">\\</span>Framework<span class=\"token punctuation\">\\</span>Component<span class=\"token punctuation\">\\</span>ComponentRegistrar</span><span class=\"token punctuation\">;</span>\n\nComponentRegistrar<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token function\">register</span><span class=\"token punctuation\">(</span>\n    ComponentRegistrar<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token constant\">MODULE</span><span class=\"token punctuation\">,</span>\n    <span class=\"token single-quoted-string string\">'MageMastery_FirstLayout'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token constant\">__DIR__</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span></code></pre></div>\n<p>The <code class=\"language-text\">module.xml</code> file:</p>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token prolog\">&lt;?xml version=\"1.0\"?></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>config</span> <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>xsi</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>http://www.w3.org/2001/XMLSchema-instance<span class=\"token punctuation\">\"</span></span> \n<span class=\"token attr-name\"><span class=\"token namespace\">xsi:</span>noNamespaceSchemaLocation</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>urn:magento:framework:Module/etc/module.xsd<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>module</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>MageMastery_FirstLayout<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>config</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>For more information about the module creation and registration, please refer to the previous lesson <a href=\"/courses/magento-2-beginner/module-in-magento-2\">A Module in Magento 2</a>.</p>\n<p>In addition to this, I've added a <code class=\"language-text\">route.xml</code> file with an Action Controller class. These two files allows to access a custom page that has been declared in the <code class=\"language-text\">MageMastery_FirstLayout</code> module.</p>\n<p>The <code class=\"language-text\">routes.xml</code> file content is the following:</p>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token prolog\">&lt;?xml version=\"1.0\"?></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>config</span> <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>xsi</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>http://www.w3.org/2001/XMLSchema-instance<span class=\"token punctuation\">\"</span></span> \n<span class=\"token attr-name\"><span class=\"token namespace\">xsi:</span>noNamespaceSchemaLocation</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>urn:magento:framework:App/etc/routes.xsd<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>router</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>standard<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>route</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>magemastery_firstlayout<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">frontName</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>firstlayout<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>module</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>MageMastery_FirstLayout<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>route</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>router</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>config</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>The routes.xml file is located in the <code class=\"language-text\">MageMastery/FirstLayout/etc/frontend</code> directory. This configuration allows to access a module's controller by using the \"firstlayout\" URI path of the URL.</p>\n<p>And the Action Controller class located in the <code class=\"language-text\">MageMastery/FirstLayout/Controller/Page/View.php</code> file, the content is:</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n\n<span class=\"token keyword\">declare</span><span class=\"token punctuation\">(</span>strict_types<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">namespace</span> <span class=\"token package\">MageMastery<span class=\"token punctuation\">\\</span>FirstLayout<span class=\"token punctuation\">\\</span>Controller<span class=\"token punctuation\">\\</span>Page</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">use</span> <span class=\"token package\">Magento<span class=\"token punctuation\">\\</span>Framework<span class=\"token punctuation\">\\</span>App<span class=\"token punctuation\">\\</span>Action<span class=\"token punctuation\">\\</span>Action</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token package\">Magento<span class=\"token punctuation\">\\</span>Framework<span class=\"token punctuation\">\\</span>Controller<span class=\"token punctuation\">\\</span>ResultFactory</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token package\">Magento<span class=\"token punctuation\">\\</span>Framework<span class=\"token punctuation\">\\</span>View<span class=\"token punctuation\">\\</span>Result<span class=\"token punctuation\">\\</span>Page</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">View</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Action</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function\">execute</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">/** @var Page $resultPage */</span>\n        <span class=\"token keyword\">return</span> <span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token property\">resultFactory</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span>ResultFactory<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token constant\">TYPE_PAGE</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></span></code></pre></div>\n<h2>New Page Type Object</h2>\n<p>From the <a href=\"/courses/magento-2-beginner/create-page-magento-2\">Create a Page in Magento 2</a> lesson we've learned how to create a custom page and return a JSON-format data.\nAs you've noticed, there is an instance of the <code class=\"language-text\">Magento\\Framework\\View\\Result\\Page</code> class returned from the <code class=\"language-text\">execute()</code> method.</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token keyword\">return</span> <span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token property\">resultFactory</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span>ResultFactory<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token constant\">TYPE_PAGE</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>The idea behind creating a <code class=\"language-text\">TYPE_PAGE</code> type of a result object is to trigger the Magento 2 rendering mechanism.</p>\n<h2>Rendering</h2>\n<p>There is a new directory that we've to learn in this lesson. The directory is called <code class=\"language-text\">view</code>. As we've discussed in the <a href=\"/courses/magento-2-beginner/create-page-magento-2\">previous tutorial</a>, Magento 2 application uses different configuration areas. It is also applicable for rendering purposes. The frontend and adminhtml are the two areas we can use in order to render a custom content on a Storefront and Admin area accordingly.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1110px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4c42b842bb04aa4503fcef9f824bef6c/89581/rendering-areas-with-base.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 55.85585585585585%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACJUlEQVQoz12S6W7aQBSF/aBJAJvFNt5tbLyyby4NNIkaEqV0VVL1ITk9M1Ap6o8jz/gu891FsfM1+tEYbTuDdpFqpTDCEex4CusiIxjBGkylb9ctoNFHex/TH0KPZ1CsZA4nKNBoe7jRXMrDlerAdDOk1RrFuMawWCLOF0ionHdhu2o50vdfzHXLRtvJoejxHC0jli+8V1MfoHGRoO+R6qYXyf//+2uU+NeLpiLhjJcBVDNBUzjyK9RxS5moxbPhVzCDiudYlips6iWJFH1EDpmwQ+drlqi7OTz2qtENqQDu9JN0VPUIbjyRNpVBol/udI9rlmrxkShbwE9maDKu44+gDLYvsKot9MEMdraGmSzQ4zncHBDVzzCGS/SHCzjFBgarMdMV4tsv8BcPMOhrpUuIwQo6u/oIZfz8B+74VpJ56VyWJvoUrh8hbF1OVyNpmK/YqwSaUyB/+IXs7rtskeGV8NMFmuyveFwpH1/hsbweAz1SeHxNjyYI6yeUn1/PhCQTNpukOqmy+59Idkf0wgkcEvrlBiZXyiq3UKrDb0koBuCTwsuWcvzB+oDq8CZLMUgtbGIfO8FYJhzuvpI2l7saFITgLIx0dSLhGwn3MLnIjugVZSfnHgrCPgnFQp9tc9mz7P4HEx5hsBJb7PE55uRwFkrGfnizO1h0DqoPUi7LDjdPSGmzWKqbrRCMhK2GU9ZI9t84mKN8zC/rE2NOHindye70F7XSDgrZxOnVAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Rendering areas of a module in Magento 2\"\n        title=\"Rendering areas of a module in Magento 2\"\n        src=\"/static/4c42b842bb04aa4503fcef9f824bef6c/89581/rendering-areas-with-base.png\"\n        srcset=\"/static/4c42b842bb04aa4503fcef9f824bef6c/8c2ab/rendering-areas-with-base.png 300w,\n/static/4c42b842bb04aa4503fcef9f824bef6c/3f01f/rendering-areas-with-base.png 600w,\n/static/4c42b842bb04aa4503fcef9f824bef6c/89581/rendering-areas-with-base.png 1110w\"\n        sizes=\"(max-width: 1110px) 100vw, 1110px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>There are other files and directories might be located in the <code class=\"language-text\">view</code> directories, however, this is outside of the lesson. In the upcoming lessons we will learn about different rendering areas and how it can be used to provide different files for different areas.  </p>\n<p>In case we want to render something on a Storefront, we have to create a <code class=\"language-text\">view/frontend</code> directory. Inside this directory, all the files should be added and further to be executed in a frontend area. This happens upon Magento 2 rendering.\nInside <code class=\"language-text\">frontend</code> directory, there are two directories. The <code class=\"language-text\">layout</code> directory is used to place layout configuration files of the <code class=\"language-text\">MageMastery_FirstLayout</code> module.</p>\n<p>The <code class=\"language-text\">templates</code> directory, contains PHTML templates that have to be rendered on a Magento 2 Storefront.  </p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 410px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/06962dafb1c8c68156f039faf3414104/2cc7b/lesson-6-view-structure.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 114.8780487804878%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAAACXBIWXMAAAsTAAALEwEAmpwYAAAET0lEQVQ4y11V11YbWRCcv9kH22fXGCRACKEwyhrlGeUsoSyChACR7APH2Ozz7t/W2eoGH3v9UPTV3K7q6pswFt//xWD1BceXTxisHzG7+475/Qsmm2cdT26eMb97wfT2G6Y33zDevP5e3P/N8Vcck6Ncaiye/4HRO3+AbbdRrh7DLvUwGq9wvXnE6dkNrm+ecL66099XhMSLy89YXTzo+OR0g6LTRblGrt1B9/SOglS2yz2UG2OU6iOUiVJtiGJlgGK5D/stym/5rnmMjowlVzj8JhpdmjPkT4EOHVbJs9qCzgTHdNofnWM4ucBgvER/eI4KiT+KvOJtzO5Eoy0O22f3yBWampij7cFoicniioJLjGdrjOeXKjqaXqDaHGvRApfmJ7rk9lSjtbiB0Tq5RSZX18RsscU2hliuH1RAxk51AIdOSrJOFSna1sKv8RV5p6Majfk1jMZiAytTpVgbGVaRBHE2PbnSlruDExWfLC5Rb0+QzjeQLbQ09wfEiGjUp1cw6rNrJK2yJqZzDSQ5IaL11gTNzhQ5JqeyNcStClKZGiw6+R3CFY3qZA2jOr1EPGErSQgJEqWF0XSFISFrOaDTyXyNGV1LkTjJkivFBVow6aAyuoBRGa8RjRWQSFcoVkYsWdIWqs0ROv2FxliqpPNJySFE8FfIt2i8gNJwCaM0WiEcySkpxiqReJGt1+nqjO7O0e7N0BuesrUa52xEmfM7hCsazuAMhnO8RMjMIMK2RcyM5mGxBafa5w0Y8Fh01EWYc4LIW/wVwhWNYv8Uhk3VQNCCybZFLBjOsoUyd3fBlucoOG22zeNT6SFEF5ITIsw36Jhc0Sh0FzAKvRMc+ZMIMlnE/KE0HZW4u03ejGNuBg80Y5JFAuEM87Ka9z+QKxq5zgxGnqqHvjj8tCxivkCKa+Jw9ypsvcp1PEOp2kONLuutERrtMXe4Al8wpfkKckUj25rCyFL1wBthgqVi3qME16mgpP3DmIra5Y5+k3lFMPVzrL8t1UjzahoZqu57THhpWcQ8FDFjebZYwq4nzLXrosOdtrk50nq51kecHRwcxclJKEe4omHx5TEsqu7uBTXB44th7yCi6xRP2XDvm8jka8jbTY1BrqHftLDvjcK1H2LxqBrwsF3RSPK+Gymqutx+thfFHm27mRgw04gmCnRosnXZ8bk6TeeqKlxwWhqFs3sQ1igaCT4eRoKq2zs+nXBTYGc3gKNgEuFYDn+8c+Hdn3s88EUWKPLYZNSlGZXTYGlBMSBc0YjxOTPifJ62tg/h4qS0se0OcJGTPF9ZbG4f8eXpRR1Ek3Ko8yoWpLDJgpLvYqvCFY0o30YjzHv74f0OPn7y4q8tj2Jr24tPO4f8v/EZ9/dPXPAQkikKRjO8YmmY4TRjBh+3DjRfuB/euxDilTWKsyv4eRdDfILkgyDIqydwm1m4QhkE+KL4UmUcWT9Q0Rh8yxeuaOT5fP0HC92a9X+mMfgAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"The view directory structure\"\n        title=\"The view directory structure\"\n        src=\"/static/06962dafb1c8c68156f039faf3414104/2cc7b/lesson-6-view-structure.png\"\n        srcset=\"/static/06962dafb1c8c68156f039faf3414104/8c2ab/lesson-6-view-structure.png 300w,\n/static/06962dafb1c8c68156f039faf3414104/2cc7b/lesson-6-view-structure.png 410w\"\n        sizes=\"(max-width: 410px) 100vw, 410px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2>Layout Configuration File</h2>\n<p>The new <code class=\"language-text\">magemastery_firstlayout_page_view.xml</code> layout configuration file has to be added to the <code class=\"language-text\">MageMastery/FirstLayout/view/frontend/layout</code> directory.</p>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token prolog\">&lt;?xml version=\"1.0\"?></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>page</span> <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>xsi</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>http://www.w3.org/2001/XMLSchema-instance<span class=\"token punctuation\">\"</span></span> \n<span class=\"token attr-name\"><span class=\"token namespace\">xsi:</span>noNamespaceSchemaLocation</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>urn:magento:framework:View/Layout/etc/page_configuration.xsd<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>referenceContainer</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>content<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>block</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>Magento\\Framework\\View\\Element\\Template<span class=\"token punctuation\">\"</span></span>\n                   <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>magemastery.first.layout.example<span class=\"token punctuation\">\"</span></span>\n                   <span class=\"token attr-name\">template</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>MageMastery_FirstLayout::example.phtml<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>referenceContainer</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>page</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>The format of the layout file is pretty much similar to all the XML files in Magento 2. The root node <code class=\"language-text\">&lt;page /&gt;</code> allows to add configuration and templates that have to be rendered on a page.</p>\n<p>In order to add a custom <code class=\"language-text\">example.phtml</code> template from the <code class=\"language-text\">view/frontend/templates</code> directory, the XML declaration should be created and added to the layout configuration file.</p>\n<p>There are 3 pieces of information or node arguments have to be declared as part of the <code class=\"language-text\">block</code> node. Let's have a look at the <code class=\"language-text\">block</code> declaration example: </p>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>block</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>Magento\\Framework\\View\\Element\\Template<span class=\"token punctuation\">\"</span></span>\n       <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>magemastery.first.layout.example<span class=\"token punctuation\">\"</span></span>\n       <span class=\"token attr-name\">template</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>MageMastery_FirstLayout::example.phtml<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></code></pre></div>\n<p>The <code class=\"language-text\">class</code> argument is responsible for providing a Block class name. The Block class is used to render a PHTML template file.\nThe <code class=\"language-text\">name</code> of the <code class=\"language-text\">block</code> is <code class=\"language-text\">magemastery.first.layout.example</code>. The name has to be unique and can be used to reference to a block from the other layout configuration files and templates.\nFor example, the <code class=\"language-text\">content</code> name or alias of a block is defined in one of the Magento 2 modules. We use the <code class=\"language-text\">content</code> block name to reference and add a block for rendering the <code class=\"language-text\">example.phtml</code> template file.</p>\n<p>The path to a template. It usually includes a name of a module joined with \"::\" template file name. The <code class=\"language-text\">example.phtml</code> file should be located in the <code class=\"language-text\">MageMastery/FirstLayout/view/frontend/templates</code> directory. As you may notice, there is no mention in the layout configuration file about the rendering area. However, Magento 2 rendering mechanism knows how to locate the corresponding area of a layout and find a path to the template.</p>\n<p>As you may notice, there is also no <code class=\"language-text\">templates</code> directory specified for the <code class=\"language-text\">template=&quot;MageMastery_FirstLayout::example.phtml&quot;</code>. In case we want to add a sub-directory inside the <code class=\"language-text\">templates</code> directory, let's say a <code class=\"language-text\">view</code> directory, the configuration of the template should include the sub-directory <code class=\"language-text\">template=&quot;MageMastery_FirstLayout::view/example.phtml&quot;</code>.</p>\n<p>The <code class=\"language-text\">example.phtml</code> file is a simple and static template that provides a few HTML tags.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span>My First Template<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>With Layout support<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>The content of the <code class=\"language-text\">example.phtml</code> file is rendered by the <code class=\"language-text\">Magento\\Framework\\View\\Element\\Template</code> class.</p>\n<h2>Layout File Name</h2>\n<p>Let's have a look at the layout file name. The <code class=\"language-text\">magemastery_firstlayout_page_view.xml</code> file name is not an easy-to-guess name. There is some naming convention comes into place.</p>\n<p>First of all, a name of the layout file should include the ID of the route. The ID of the route is located in the <code class=\"language-text\">etc/frontend/routes.xml</code> file. In case of this lesson this is the <code class=\"language-text\">magemastery_firstlayout</code> ID.\nThe <code class=\"language-text\">page</code> part of the layout name comes from a name of the controller directory. Finally, the last <code class=\"language-text\">view</code> path is the name of a controller class, which is <code class=\"language-text\">View</code>.</p>\n<p>Once, we have a custom controller and we want to render a page with the custom layout. The <code class=\"language-text\">magemastery_firstlayout_page_view</code> name should be provided. Magento 2 will match the the layout configuration file, load the declared list of templates and classes, and render the content of the template on a page.</p>\n<p>As the result, we can navigate to the https://magento2ce.magemastery.net/firstlayout/page/view URL and observe a custom page with the custom content rendered on the page.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1110px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2867aa331d0e86a3159ed8e8e7e78544/89581/layout-and-template-custom-page.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 65.76576576576576%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAABV0lEQVQ4y52SbU+DMBDH+/0/hSaLbjpw7uGlL9hg2RI/gYmJe+FUYIyW8TAK+3sFRhRH4lbyy13b6//K9djVfR/XNx10ej10dQ1dTStsT9dPctwbTCbQRyP0h4/QhkM8jMe4GwzA7O0nhLdGmkqcOw55DilTcg7lnCzzuIDwOUQQwPM82LaNKI6hQnI60M6hEDhUQgqZ5SQodvD9LcIwpFumSJIEWZbVGf+LGpISsXCfqqP1Yv07jXlz/ZRgVghWtTsV0CbaluSP4E/hsx7nl+Benl2vNooaRhe0S+tN6WNBnBT9pF72EvI8o3bJ4PAYPNyDrd7XWK3e8EX9xzkHF6K0lS8aqHXHcbDZbOC6LrXbDlse4NZ4xfPLB5jj+XApIIqiMquUJeRLsk2OezVSWVW2vNhnT6aFqWViNp+TtQpmlbUWC8yXS4Js5ZsUZ5gmpoRRcTxnEN8fNuDKddSsoAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Layout and Template rendering on a Custom Page\"\n        title=\"Layout and Template rendering on a Custom Page\"\n        src=\"/static/2867aa331d0e86a3159ed8e8e7e78544/89581/layout-and-template-custom-page.png\"\n        srcset=\"/static/2867aa331d0e86a3159ed8e8e7e78544/8c2ab/layout-and-template-custom-page.png 300w,\n/static/2867aa331d0e86a3159ed8e8e7e78544/3f01f/layout-and-template-custom-page.png 600w,\n/static/2867aa331d0e86a3159ed8e8e7e78544/89581/layout-and-template-custom-page.png 1110w\"\n        sizes=\"(max-width: 1110px) 100vw, 1110px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2>Homework</h2>\n<p>The homework for this lesson. </p>\n<ol>\n<li>Create a <code class=\"language-text\">hello.phtml</code> template under the <code class=\"language-text\">MageMastery/FirstTemplate/view/frontend/template/view</code> directory.</li>\n<li>Add the template into the <code class=\"language-text\">magemastery_firstlayout_page_view.xml</code> file as an additional block declaration, that should go after the <code class=\"language-text\">example.phtml</code> block.</li>\n<li>Check that the new content of the <code class=\"language-text\">hello.phtml</code> template is rendered on the page.</li>\n</ol>\n<h2>Next Steps</h2>\n<p>Subscribe to the Mage Mastery newsletter to hear first about new lessons and courses.</p>","frontmatter":{"path":"/courses/magento-2-beginner/template-layout-rendering","title":"Template and Layout Rendering","lesson_link":"https://github.com/magemastery/first-layout","lesson_label":"Download Source Code","description":null}},"CourseQuery":{"frontmatter":{"title":"Magento 2 for Beginners","path":"/courses/magento-2-beginner"}},"NextLessonQuery":{"frontmatter":{"path":"/courses/magento-2-beginner/passing-data-from-controller-to-template"}},"PrevLessonQuery":{"frontmatter":{"path":"/courses/magento-2-beginner/create-page-magento-2"}},"LessonsQuery":{"edges":[{"node":{"id":"d9a794e9-328d-526c-947b-72bd91ce5f97","frontmatter":{"title":"Introduction","path":"/courses/magento-2-beginner/introduction","time":60,"timeline_icon":"text"}}},{"node":{"id":"ce23de9b-c605-585f-b905-9a80f95bfccf","frontmatter":{"title":"Getting Started with Magento 2","path":"/courses/magento-2-beginner/getting-started-with-magento-2","time":541,"timeline_icon":"video"}}},{"node":{"id":"579b1bb8-7d60-5656-bf66-733285abb682","frontmatter":{"title":"Project Structure Overview","path":"/courses/magento-2-beginner/project-structure-overview","time":606,"timeline_icon":"video"}}},{"node":{"id":"9e5d18b8-1a30-5bb8-88eb-834d787cffcb","frontmatter":{"title":"A Module in Magento 2","path":"/courses/magento-2-beginner/module-in-magento-2","time":468,"timeline_icon":"video"}}},{"node":{"id":"bfa08926-d719-5d65-867d-97f0465b7cde","frontmatter":{"title":"Create a Page in Magento 2","path":"/courses/magento-2-beginner/create-page-magento-2","time":449,"timeline_icon":"video"}}},{"node":{"id":"7b6c6fb5-b946-55de-bae3-775a9a1f4846","frontmatter":{"title":"Template and Layout Rendering","path":"/courses/magento-2-beginner/template-layout-rendering","time":290,"timeline_icon":"video"}}},{"node":{"id":"276dc6c6-f61b-5c2c-a6a3-66633dcd9b85","frontmatter":{"title":"Passing Data From Controller to Template","path":"/courses/magento-2-beginner/passing-data-from-controller-to-template","time":255,"timeline_icon":"text"}}}]}},"pageContext":{"isCreatedByStatefulCreatePages":false,"course":"magento-2-beginner","lessonOrder":60,"lessonOrderStep":71}}}