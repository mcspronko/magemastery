{"componentChunkName":"component---src-templates-lesson-js","path":"/courses/magento-2-beginner/create-page-magento-2","result":{"data":{"LessonQuery":{"html":"<p><div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.42857142857143%; position: relative; height: 0; overflow: hidden; \" > <div class=\"embedVideo-container\"> <iframe src=\"https://www.youtube-nocookie.com/embed/FOmDMc0urkg?rel=0\" class=\"embedVideo-iframe\" style=\"border:0; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" allowfullscreen></iframe> </div> </div></p>\n<h2>Introduction</h2>\n<p>Magento 2 provides a set of framework features that allow to easily create different entry points. One of the entry points we are going to learn in this lesson is a Page. </p>\n<p>A page in Magento 2 is a result of an Action Controller execution. Each controller either returns an HTML content or redirects to another controller for further processing. In this lesson, we are going to create a Page, that shows a JSON message in a browser when it has been accessed via a custom route.</p>\n<h2>Lesson Overview</h2>\n<p>In this lesson we are going to learn the following:</p>\n<ul>\n<li>How to create a page in Magento 2?</li>\n<li>How to create an Action Controller?</li>\n<li>How to register a new route?</li>\n<li>How to return a JSON data from a Controller?</li>\n</ul>\n<h2>Before we begin</h2>\n<p>For this tutorial, I've created the <code class=\"language-text\">MageMastery_FirstPage</code> module with the <code class=\"language-text\">registration.php</code> and <code class=\"language-text\">module.xml</code> files. And the module has been successfully registered with the <code class=\"language-text\">bin/magento setup:upgrade</code> CLI command.</p>\n<p>The <code class=\"language-text\">registration.php</code> file:</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n\n<span class=\"token keyword\">use</span> <span class=\"token package\">Magento<span class=\"token punctuation\">\\</span>Framework<span class=\"token punctuation\">\\</span>Component<span class=\"token punctuation\">\\</span>ComponentRegistrar</span><span class=\"token punctuation\">;</span>\n\nComponentRegistrar<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token function\">register</span><span class=\"token punctuation\">(</span>\n    ComponentRegistrar<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token constant\">MODULE</span><span class=\"token punctuation\">,</span>\n    <span class=\"token single-quoted-string string\">'MageMastery_FirstPage'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token constant\">__DIR__</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span></code></pre></div>\n<p>The <code class=\"language-text\">module.xml</code> file:</p>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token prolog\">&lt;?xml version=\"1.0\"?></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>config</span> <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>xsi</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>http://www.w3.org/2001/XMLSchema-instance<span class=\"token punctuation\">\"</span></span> \n        <span class=\"token attr-name\"><span class=\"token namespace\">xsi:</span>noNamespaceSchemaLocation</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>urn:magento:framework:Module/etc/module.xsd<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>module</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>MageMastery_FirstPage<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>config</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>For more information about the module creation and registration, please refer to the previous lesson <a href=\"/courses/magento-2-beginner/module-in-magento-2\">A Module in Magento 2</a>.</p>\n<h2>Registering a new route</h2>\n<p>In order to create a new page in Magento 2, which is accessible via a browser, there are two files that have to be created in a Magento 2 module. The first file is <code class=\"language-text\">routes.xml</code>. The file is responsible for providing information to Magento 2 where to look for a particular controller module's name and additional rules to match a URI.</p>\n<p>The second file is a controller class, that should be executed and process the incoming request.</p>\n<p>Let's go ahead and create a new <code class=\"language-text\">routes.xml</code> file under the <code class=\"language-text\">MageMastery/FirstPage/etc/</code> directory.</p>\n<h3>Configuration in Magento 2</h3>\n<p>The configuration can be provided for the two different areas: <strong>frontend</strong> and <strong>adminhtml</strong> areas. There is also a <strong>default</strong> that is used to provide a configuration for both areas.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1110px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/862b113289708d3e1ed35a13f7660b6d/dbb75/1-configuration-areas-in-magento-2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 68.64864864864865%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC20lEQVQ4y31SaU8TURSdH0kkstNpC92mpUApFAoUaqoQCcaoX/yiBGSRHbciBIyJESWERSwgxQRDBKRAmc7W9njfAyrE6EtO3p27nHvvmSe4AhE4alpglgIQXQ0czHbUtEKqa4OzNgSbtxkuXwj26hbut1O+xd0I0dmQqxGd9bB4miA4qUjyNqLU7EGxyU2QuF3tD6E+GEFTqAO+hjDqmyLc5wuEESRfhbMOReUulIhuDl5n9UKo9LWj3OaDyeHnEC9Qbq9DaWUtyihW4WmErSpI8T8+nuv05+pMlM82I8I2mCiBBc+JfLwBs820hkgkbtrCG7gFq9QAi4tWoxVzA1Ad+zbTbSUZBNHTjIIyCQW0bqHJA3tVE1ykUVlFDW6WSzxWZK2BpTqE/GIH8opsuEG3lYgrqEGJxYu8wkruz6dcIRDpQjB8B623u9ASuYv2zm6EO++hvaMbbYQQ+du7HtLKftx/9BjPJ6MYfzWLqel3HJPROYy8nMXg8BT6Rl5A+LSyjJR8AsPQkc2kkU4bHMzWdQ1pQ4Os6rBLbix9/gh2WOyvc7gN5csHCCsbcSiyjJSi4F9Hy4B0dmL2bRQy5R4fHyOVSnGkaZDF+CEmFuKYX45D+Lqzy4symQyy2ew1ZAjsqEYWIhHOE2HaMKCqKidm0HUdR0kVB0kNe4kzCLH/EGYvCJULwujUGEvkPl0+RSp5imQyCfksiSxJc0YNhNj3H+e6XBRfPZceppip0oGZ6Td8ItZclZM4OjxAIpHgEpyenGD/8BdpuBlHhn6CQmtompYDW0shXZl/Z/8MFoeEmehrnFCxQWtfbXh5y4oGYXE1Bk1JEWn6GphWTHBdN7D5U0ZhmYj3czPnmlIjXVP5y+C5NFCGXgSbVHjwpA+9g0PoGRhC79AwBkbG8Gx4lNtP+wfR0z+A/tFxetxOjE5MYnt3D2sb21jfivN7beMbVmNbWFuPYWFpBb8BE3xspRqmbI8AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Configuration Areas in Magento 2\"\n        title=\"Configuration Areas in Magento 2\"\n        src=\"/static/862b113289708d3e1ed35a13f7660b6d/dbb75/1-configuration-areas-in-magento-2.png\"\n        srcset=\"/static/862b113289708d3e1ed35a13f7660b6d/135ae/1-configuration-areas-in-magento-2.png 300w,\n/static/862b113289708d3e1ed35a13f7660b6d/34e8a/1-configuration-areas-in-magento-2.png 600w,\n/static/862b113289708d3e1ed35a13f7660b6d/dbb75/1-configuration-areas-in-magento-2.png 1110w\"\n        sizes=\"(max-width: 1110px) 100vw, 1110px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>For the storefront configuration changes, we have to add a new <code class=\"language-text\">frontend</code> directory inside the <code class=\"language-text\">MageMastery/FirstPage/etc/</code> directory. We will talk more about the <code class=\"language-text\">adminhtml</code> directory in the upcoming lessons.  </p>\n<p>If you haven't created the <code class=\"language-text\">etc/frontend</code> directory this is the right time to do it.</p>\n<h3>The routes.xml file</h3>\n<p>Inside the <code class=\"language-text\">etc/frontend</code> directory let's create the <code class=\"language-text\">routes.xml</code> configuration file.\nAll routes configuration files from all Magento 2 registered modules including the <code class=\"language-text\">MageMastery/FirstPage</code> module will be merged and provided for the execution. </p>\n<p>The <code class=\"language-text\">routes.xml</code> initial file state:</p>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token prolog\">&lt;?xml version=\"1.0\"?></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>config</span> <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>xsi</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>http://www.w3.org/2001/XMLSchema-instance<span class=\"token punctuation\">\"</span></span> \n        <span class=\"token attr-name\"><span class=\"token namespace\">xsi:</span>noNamespaceSchemaLocation</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>urn:magento:framework:App/etc/routes.xsd<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>config</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Magento 2 Open Source provides so-called routers, and each router has its own identifier. We are not going to go deeply into the router implementation just now.\nWe are going to use the standard router that is identified as \"standard\". This is what you see in the code below:</p>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token prolog\">&lt;?xml version=\"1.0\"?></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>config</span> <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>xsi</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>http://www.w3.org/2001/XMLSchema-instance<span class=\"token punctuation\">\"</span></span> \n        <span class=\"token attr-name\"><span class=\"token namespace\">xsi:</span>noNamespaceSchemaLocation</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>urn:magento:framework:App/etc/routes.xsd<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>router</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>standard<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    \n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>router</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>config</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Inside the standard router node, we can add routes configuration. Each route is responsible for providing a front name that is used to match the route with a request URL. Also, the route should provide a module name, that includes an action controller class.</p>\n<p>The route configuration for the <code class=\"language-text\">MageMastery_FirstPage</code> module and the <code class=\"language-text\">magemastery</code> front name looks as follow:</p>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>route</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>magemastery_firstpage<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">frontName</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>magemastery<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>module</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>MageMastery_FirstPage<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>route</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Note the id argument of the route. It has to be unique across the Magento 2 application. The recommended naming convention for the route id is lower-case module name e.g. <code class=\"language-text\">magemastery_firstpage</code> to ensure the uniqueness.</p>\n<p>Let's see the final state of the <code class=\"language-text\">routes.xml</code> file:</p>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token prolog\">&lt;?xml version=\"1.0\"?></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>config</span> <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>xsi</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>http://www.w3.org/2001/XMLSchema-instance<span class=\"token punctuation\">\"</span></span> \n        <span class=\"token attr-name\"><span class=\"token namespace\">xsi:</span>noNamespaceSchemaLocation</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>urn:magento:framework:App/etc/routes.xsd<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>router</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>standard<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>route</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>magemastery_firstpage<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">frontName</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>magemastery<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>module</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>MageMastery_FirstPage<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>route</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>router</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>config</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Magento 2 standard router reads the route configuration that starts with the <code class=\"language-text\">magemastery</code> request URI part, finds a module name with the name <code class=\"language-text\">MageMastery_FirstPage</code>, and will check for a controller, which can process the request.   </p>\n<p>A controller in a module is the second bit or file to be created in this lesson.</p>\n<h3>Action Controller</h3>\n<p>All controllers of a module should be located in a directory called <code class=\"language-text\">Controller</code>. There is another directory level that should exist inside the <code class=\"language-text\">Controller</code> directory before the class can be located. For this lesson, we are going to create a <code class=\"language-text\">Page</code> directory in the <code class=\"language-text\">Controller</code>.</p>\n<p>Inside the <code class=\"language-text\">Page</code> directory, let's create the <code class=\"language-text\">View.php</code> file.</p>\n<p>As a result, you should have the following module structure.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 410px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/7593e75acaa6cab1ba1c1bb979da299d/9fff5/2-module-structure.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 114.8780487804878%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEVklEQVQ4y22UWU8jRxSF+wcN0gyLWWxs491tu712ezfe8NrQYAzGGAyDmBlm5ikvk0hR8pA/EeUhUpSH/KyjnFuGCCV5uK5S1T1fnXtdXZrz5Xv0Lh7Qv/qwitkjBvOPcO6+wr75jJMlx9vVOFp8wvjmSa1LjuS+6IThPH2D1j2/h2W1UK72Ua70YJW6aDTHeP/wBYubD7i7/4zJ+S2Wd0+4nN1jfv2oQnKK5SOUqBGtZbXROVsSSLJV7qLcGKFUH6AiY20Ak8mWJFIgc1OE9aHKk1FySjI+rwmjQ3Oa/BTosFjrI1/swJncqOiPL3A0PMeAY280xdHgnIcNVwdJJa+DBwujJQ5bkzvkCocqMUfbveEUY2eOPiGj4xlGJ1ecX2DIeY1lyqEFtmUVHRUm3Qmj6dxAa57eIpOrq8Ss2WQ5A0zZq6F9qebFag9VOpMxa7Z46H8jX2wrRuPkGlrDWcDIVFVyhqdIgjizT+eq5HbvFLZzxZirPcn5d4gRYdTtObT68TWSRhnpfAPpXANJboiw3hyh0bLVXNYS6QoMuvi/EK0wquMZtKp9BT1hIZWtIZWpKaGUICWPT2b8Mybo9s/U/JiuD9s2dIolVw6SEK2eLKIyvIRWGc0QixcUKMHEODdyFntZY+8OhwposvEiFJDkyfg6ZC2mF1AaTKGVhheIRHOIp0oKFtFNZNmXAl0K2Jks0Ok5aHVPCD+jmyqizIkx9yVEK4xibwKt2J8iFM4gyrIlMRzLsy81umojyKQ8oY3WmPdxqtb05yp0gTBfQrTCMI/OoFmkBoIGwixbYIFIlv2p8J87hI/rAj2/XOKPP//CyL7g5e4rx93+qdKEqJFRGIWOA63QPYX/IKmEQcIOQml1epXCenMIgyUm02X2sKIOC9DJ61E0ohVGrn0MLU+q16fjgAkC8wVSLMFUwBdopd5TQo8/AS+FXuZI7j9BrTCyTRtallTPflSVJ7B9igSYMErIsexu31EO9VRRuU3na2rPG0hSk1Ia0QojfTiCliF1zx3GPk8WmNsbRySeZ+MtAhvKoVlqKWEiXeK/31TAHXdE5YpGtMIw+PJoBqk7u0GWo8Pti2PXE0UomlXAGJ0KfGhP8e2Hn9UB4XhOuU0SHuXd26Uz0QojyRdLS5Hq2j7AnjemNrf3Qmx4WoGMbIX9MXgHbfz40y/P7opqXYDBSIZOw0orjETlCFqC1M0tH3Y8EWxzc2snAD97I8C1d27c3n3Er7/9Dg/d66lVGwQWodMNl18BpXxhxPmkaTqfpfVNL1zccNHd5naATU7yfmVxdf0eT1+/U67yVoP3k49Irsp2mPxiKisDLFVGYcT4iWoRPj1rb7bwbmMfb9fdKtY397Gx5cVi8YDl8hEbTI7rvPRyUJhXJpBAOJqmxoO3rEK0a29cCPHl0czjOQ54kUN8gmRBIsjXQ2I7nIWLd0zmPn5yfj4CfoN9VWMZwed80Qojz+frbz/GoeqIpjKlAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Module Structure\"\n        title=\"Module Structure\"\n        src=\"/static/7593e75acaa6cab1ba1c1bb979da299d/9fff5/2-module-structure.png\"\n        srcset=\"/static/7593e75acaa6cab1ba1c1bb979da299d/135ae/2-module-structure.png 300w,\n/static/7593e75acaa6cab1ba1c1bb979da299d/9fff5/2-module-structure.png 410w\"\n        sizes=\"(max-width: 410px) 100vw, 410px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>The <code class=\"language-text\">View.php</code> file is a <code class=\"language-text\">MageMastery\\FirstPage\\Controller\\Page\\View</code> class. The <code class=\"language-text\">View</code> class should extend the <code class=\"language-text\">Magento\\Framework\\App\\Action\\Action</code> class.</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n\n<span class=\"token keyword\">declare</span><span class=\"token punctuation\">(</span>strict_types<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">namespace</span> <span class=\"token package\">MageMastery<span class=\"token punctuation\">\\</span>FirstPage<span class=\"token punctuation\">\\</span>Controller<span class=\"token punctuation\">\\</span>Page</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">use</span> <span class=\"token package\">Magento<span class=\"token punctuation\">\\</span>Framework<span class=\"token punctuation\">\\</span>App<span class=\"token punctuation\">\\</span>Action<span class=\"token punctuation\">\\</span>Action</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">View</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Action</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function\">execute</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></span></code></pre></div>\n<p>The <code class=\"language-text\">Action</code> class requires to provide implementation of the <code class=\"language-text\">execute()</code> method. Once Magento 2 will resolve the route it will trigger the <code class=\"language-text\">View::execute()</code> method.\nThe <code class=\"language-text\">execute()</code> method's logic should be added in order to render something on a front end. For this lesson, we are going to return a JSON response with the message.</p>\n<p>In order to return anything from the <code class=\"language-text\">execute()</code> method, there is a <code class=\"language-text\">resultFactory</code> variable that is provided to us from the <code class=\"language-text\">Action</code> parent class.\nThe <code class=\"language-text\">create()</code> method of the <code class=\"language-text\">Magento\\Framework\\Controller\\ResultFactory</code> class creates an instance of a <code class=\"language-text\">Magento\\Framework\\Controller\\Result\\Json</code> class. The <code class=\"language-text\">Json</code> class then can be used to convert an array into a JSON and return back from the <code class=\"language-text\">execute()</code> method.</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token variable\">$jsonResult</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token property\">resultFactory</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span>ResultFactory<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token constant\">TYPE_JSON</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>We can use the <code class=\"language-text\">$jsonResult</code> to set an array with the key <code class=\"language-text\">message</code> and the value to be <code class=\"language-text\">My First Page</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token variable\">$jsonResult</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">setData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n    <span class=\"token single-quoted-string string\">'message'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token single-quoted-string string\">'My First Page'</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>The resulting code of the <code class=\"language-text\">View</code> controller class looks as follow:</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n\n<span class=\"token keyword\">declare</span><span class=\"token punctuation\">(</span>strict_types<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">namespace</span> <span class=\"token package\">MageMastery<span class=\"token punctuation\">\\</span>FirstPage<span class=\"token punctuation\">\\</span>Controller<span class=\"token punctuation\">\\</span>Page</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">use</span> <span class=\"token package\">Magento<span class=\"token punctuation\">\\</span>Framework<span class=\"token punctuation\">\\</span>Controller<span class=\"token punctuation\">\\</span>Result<span class=\"token punctuation\">\\</span>Json</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token package\">Magento<span class=\"token punctuation\">\\</span>Framework<span class=\"token punctuation\">\\</span>App<span class=\"token punctuation\">\\</span>Action<span class=\"token punctuation\">\\</span>Action</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token package\">Magento<span class=\"token punctuation\">\\</span>Framework<span class=\"token punctuation\">\\</span>Controller<span class=\"token punctuation\">\\</span>ResultFactory</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">View</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Action</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function\">execute</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">/** @var Json $jsonResult */</span>\n        <span class=\"token variable\">$jsonResult</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token property\">resultFactory</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span>ResultFactory<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token constant\">TYPE_JSON</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token variable\">$jsonResult</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">setData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n            <span class=\"token single-quoted-string string\">'message'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token single-quoted-string string\">'My First Page'</span>\n        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token variable\">$jsonResult</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></span></code></pre></div>\n<p>In order to a result in a browser, the Magento 2 configuration cache has to be cleaned.\nThe cache cleanup can be done with the Magento CLI command <code class=\"language-text\">cache:clean</code>. The command has to be executed from the Magento 2 project root directory.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">bin/magento cache:clean</code></pre></div>\n<p>Navigate to the <code class=\"language-text\">http://magento2ce.magemastery.net/magemastery/page/view</code> url, where the magento2ce.magemastery.net domain name can be different one, depending on what domain name you provided during the <a href=\"/courses/magento-2-beginner/getting-started-with-magento-2\">Magento 2 installation</a>.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1110px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/3219a3ebac5ce66ca208d1c8fca1b9e1/dbb75/3-magento-2-page.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 28.37837837837838%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA70lEQVQY04WQ226DMBBE+f9/4yLRqFAwJpjQBoIvGJw3TxcIUSO16sPR7Oyu1hoHzVePz1GhG0Z0N7mx+bX+0Tu4TTPk7CDt8mS0i9fU68zsg9PbO+q6RlGUKEuGqqo2zxgjX5LnYCV7zDiU0nDujmVZCHfg785BkQZKSmitoY3Z9YC8pNk4jg/2ehgG9H3/wrXv/bCq0j74yHPEcYwoipCm6VYnSYIwDME5R9u2EEI8Wf0v+Esr1i/yAa8YxS2QZRmqLWaxRc3poeZ8pmXxcvAP/EU0+0G1Rp0stLW7HpBXZoLUFN38gzZe0+7VWP8NEeW9kVr+Eh8AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Page in Magento 2\"\n        title=\"Page in Magento 2\"\n        src=\"/static/3219a3ebac5ce66ca208d1c8fca1b9e1/dbb75/3-magento-2-page.png\"\n        srcset=\"/static/3219a3ebac5ce66ca208d1c8fca1b9e1/135ae/3-magento-2-page.png 300w,\n/static/3219a3ebac5ce66ca208d1c8fca1b9e1/34e8a/3-magento-2-page.png 600w,\n/static/3219a3ebac5ce66ca208d1c8fca1b9e1/dbb75/3-magento-2-page.png 1110w\"\n        sizes=\"(max-width: 1110px) 100vw, 1110px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Let's have a closer look at <code class=\"language-text\">/magemastery/page/view</code> path for the page. The first part is the <code class=\"language-text\">magemastery</code>, this is a front name that is configured in the <code class=\"language-text\">routes.xml</code> file.\nThe <code class=\"language-text\">page</code> is the name of a directory <code class=\"language-text\">Page</code> inside which there is a <code class=\"language-text\">View</code> class. The <code class=\"language-text\">View::execute()</code> method returns the JSON object.</p>\n<h2>Homework</h2>\n<p>The homework for this lesson. Create a custom controller with the custom JSON message which has to be rendered on a page with the route <code class=\"language-text\">/magemastery/custom/page</code>.</p>\n<h2>Next Steps</h2>\n<p>Subscribe to the Mage Mastery newsletter to hear first about new lessons and courses.</p>","frontmatter":{"path":"/courses/magento-2-beginner/create-page-magento-2","title":"Create a Page in Magento 2","course_title":"Magento 2 for Beginners","next":"/courses/magento-2-beginner/template-layout-rendering","prev":"/courses/magento-2-beginner/module-in-magento-2","order_number":5,"lesson_link":"https://github.com/magemastery/first-page","lesson_label":"Download Source Code"}}},"pageContext":{"isCreatedByStatefulCreatePages":false}}}