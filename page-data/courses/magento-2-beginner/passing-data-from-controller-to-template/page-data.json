{"componentChunkName":"component---src-templates-lesson-js","path":"/courses/magento-2-beginner/passing-data-from-controller-to-template","result":{"data":{"site":{"siteMetadata":{"url":"https://magemastery.net","twitterHandle":"@max_pronko"}},"LessonQuery":{"html":"<p><div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.42857142857143%; position: relative; height: 0; overflow: hidden; \" > <div class=\"embedVideo-container\"> <iframe src=\"https://www.youtube-nocookie.com/embed/Cm9uiFH_ttI?rel=0\" class=\"embedVideo-iframe\" style=\"border:0; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" allowfullscreen></iframe> </div> </div></p>\n<h1>Passing Data From Controller to Template</h1>\n<p>From the <a href=\"/courses/magento-2-beginner/template-layout-rendering\">Template and Layout Rendering</a> lesson, we've learned how to create a new template and render it on a custom page with the help of a layout.\nAs you've noticed, the template provides HTML markup with the static text. </p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span>My First Template<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>With Layout support<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>This might be enough for a static website, but not for Magento 2 website. In this lesson, we are going to learn how to pass data from the PHP side, specifically from an Action Controller to the template.</p>\n<p>By the end of this lesson, you will know one of the ways how dynamic content can be rendered on a page.</p>\n<h2>Lesson Overview</h2>\n<p>In this lesson we are going to learn the following:</p>\n<ul>\n<li>How to pass data from a controller class to a template?</li>\n<li>How to get access to a block class from a controller?</li>\n<li>How to assign data to a block class?</li>\n<li>How to render dynamic data in a template?</li>\n</ul>\n<h2>Before we begin</h2>\n<p>You will need to download the source code from the previous lesson in order to follow the lesson.</p>\n<h2>Controller Logic</h2>\n<p>Let's have a closer look at the <code class=\"language-text\">execute()</code> method of the View Controller class.</p>\n<p>The <code class=\"language-text\">Controller/Page/View.php</code> file:</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function\">execute</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token property\">resultFactory</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span>ResultFactory<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token constant\">TYPE_PAGE</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>As you can see, the <code class=\"language-text\">resultFactory</code> is used to create a new instance of a <code class=\"language-text\">Magento\\Framework\\View\\Result\\Page</code> class.\nThe <code class=\"language-text\">Page</code> class includes logic, which is used to render all blocks and templates on the page.\nThe created instance of the <code class=\"language-text\">Page</code> class includes the path to the <code class=\"language-text\">example.phtml</code> template from the <code class=\"language-text\">MageMastery_FirstLayout</code> module.</p>\n<p>Once the <code class=\"language-text\">execute()</code> method returns a <code class=\"language-text\">Page</code> object, it will trigger the <code class=\"language-text\">Page::render()</code> method and content is rendered on a page.</p>\n<p>However, if we want to pass content from a Controller class into the <code class=\"language-text\">example.phtml</code> template, the logic of the <code class=\"language-text\">execute()</code> method should be modified.</p>\n<p>First of all, let's assign a result of the <code class=\"language-text\">create()</code> method into the <code class=\"language-text\">$page</code> variable.</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function\">execute</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">/** @var Page $page */</span>\n    <span class=\"token variable\">$page</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token property\">resultFactory</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span>ResultFactory<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token constant\">TYPE_PAGE</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token variable\">$page</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Now, we can access any Block class, that has been added in the page for further rendering.\nThe <code class=\"language-text\">Page</code> class has a dependency on a <code class=\"language-text\">Layout</code> class that can be used to retrieve an instance of a block by calling the <code class=\"language-text\">getBlock()</code> method.\nThe <code class=\"language-text\">getBlock(string $name)</code> method accepts the <code class=\"language-text\">$name</code> argument. </p>\n<p>In the <a href=\"/courses/magento-2-beginner/template-layout-rendering\">previous lesson</a> we've discussed that the name of the Block declaration added to the <code class=\"language-text\">magemastery_firstlayout_page_view.xml</code> layout file is <code class=\"language-text\">magemastery.first.layout.example</code>.\nWe can retrieve an instance of a block by calling the <code class=\"language-text\">getBlock()</code> method and passing the block name.</p>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>block</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>Magento\\Framework\\View\\Element\\Template<span class=\"token punctuation\">\"</span></span>\n       <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>magemastery.first.layout.example<span class=\"token punctuation\">\"</span></span>\n       <span class=\"token attr-name\">template</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>MageMastery_FirstLayout::example.phtml<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></code></pre></div>\n<p>The <code class=\"language-text\">$block</code> variable is now refer to a <code class=\"language-text\">Template</code> class instance.</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token variable\">$block</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$page</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">getLayout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">getBlock</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'magemastery.first.layout.example'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>The <code class=\"language-text\">Template</code> class allows us to set additional data. For this, the <code class=\"language-text\">setData()</code> method has to be used. There are other methods available for setting data to a <code class=\"language-text\">Template</code> object, but for this lesson, we will only use the <code class=\"language-text\">setData()</code> method.\nThe <code class=\"language-text\">Template::setData(string $name, mixed $value = null)</code> method accepts two arguments. First argument is the name of the key for which the value has to be set. Furthermore, the key has to be used to access the assigned value.</p>\n<p>Let's assign a value to the key called <code class=\"language-text\">custom_parameter</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token variable\">$block</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">setData</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'custom_parameter'</span><span class=\"token punctuation\">,</span> <span class=\"token single-quoted-string string\">'Data from the Controller'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>As a result, the block instance has new data assigned and it can be accessed via the <code class=\"language-text\">getData()</code> method.</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token variable\">$data</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$block</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">getData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">print_r</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$data</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">/* Retult\nArray ( \n    [type] => Magento\\Framework\\View\\Element\\Template \n    [custom_parameter] => Data from the Controller \n)\n*/</span></code></pre></div>\n<p>Alternatively, we can pass the name of the key to the <code class=\"language-text\">getData(string $key = null, int $index = null)</code> method.</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token variable\">$customParameter</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$block</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">getData</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'custom_parameter'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">echo</span> <span class=\"token variable\">$customParameter</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Result: Data from the Controller </span></code></pre></div>\n<p>The result of the modified <code class=\"language-text\">execute()</code> method:</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function\">execute</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">/** @var Page $page */</span>\n    <span class=\"token variable\">$page</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token property\">resultFactory</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span>ResultFactory<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token constant\">TYPE_PAGE</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">/** @var Template $block */</span>\n    <span class=\"token variable\">$block</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$page</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">getLayout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">getBlock</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'magemastery.first.layout.example'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token variable\">$block</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">setData</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'custom_parameter'</span><span class=\"token punctuation\">,</span> <span class=\"token single-quoted-string string\">'Data from the Controller'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token variable\">$page</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>The <code class=\"language-text\">execute()</code> method creates an instance of the <code class=\"language-text\">Page</code> class, returns an instance of a <code class=\"language-text\">Template</code> from the pool of declared blocks that has the <code class=\"language-text\">magemastery.first.layout.example</code> block name. Then the custom value is assigned to the block.\nLastly, the Page object is returned from the <code class=\"language-text\">execute()</code> method for rendering.</p>\n<p>The app/code/MageMastery/FirstLayout/Controller/Page/View.php file:</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n\n<span class=\"token keyword\">declare</span><span class=\"token punctuation\">(</span>strict_types<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">namespace</span> <span class=\"token package\">MageMastery<span class=\"token punctuation\">\\</span>FirstLayout<span class=\"token punctuation\">\\</span>Controller<span class=\"token punctuation\">\\</span>Page</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">use</span> <span class=\"token package\">Magento<span class=\"token punctuation\">\\</span>Framework<span class=\"token punctuation\">\\</span>App<span class=\"token punctuation\">\\</span>Action<span class=\"token punctuation\">\\</span>Action</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token package\">Magento<span class=\"token punctuation\">\\</span>Framework<span class=\"token punctuation\">\\</span>Controller<span class=\"token punctuation\">\\</span>ResultFactory</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token package\">Magento<span class=\"token punctuation\">\\</span>Framework<span class=\"token punctuation\">\\</span>View<span class=\"token punctuation\">\\</span>Element<span class=\"token punctuation\">\\</span>Template</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token package\">Magento<span class=\"token punctuation\">\\</span>Framework<span class=\"token punctuation\">\\</span>View<span class=\"token punctuation\">\\</span>Result<span class=\"token punctuation\">\\</span>Page</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">View</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Action</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function\">execute</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">/** @var Page $page */</span>\n        <span class=\"token variable\">$page</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token property\">resultFactory</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span>ResultFactory<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token constant\">TYPE_PAGE</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">/** @var Template $block */</span>\n        <span class=\"token variable\">$block</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$page</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">getLayout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">getBlock</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'magemastery.first.layout.example'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token variable\">$block</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">setData</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'custom_parameter'</span><span class=\"token punctuation\">,</span> <span class=\"token single-quoted-string string\">'Data from the Controller'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">return</span> <span class=\"token variable\">$page</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></span></code></pre></div>\n<h2>Template Logic</h2>\n<p>Every PHTML template that is rendered by the Magento\\Framework\\View\\Element\\Template class has access to a <code class=\"language-text\">$block</code> variable inside the template.\nThe <code class=\"language-text\">$block</code> variable is an instance of a current <code class=\"language-text\">Template</code> class or any subclass, that extends the <code class=\"language-text\">Template</code> class.</p>\n<p>In order to get access to the <code class=\"language-text\">custom_parameter</code> inside the <code class=\"language-text\">example.phtml</code> template, we have to use the <code class=\"language-text\">Template::getData()</code> method.</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?=</span> <span class=\"token variable\">$block</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">getData</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'custom_parameter'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token delimiter important\">?></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>It is also practical to add a doc-block with the name of the class, so the IDE, in my case PHPStorm will highlight all public methods.\nThe final <code class=\"language-text\">example.phtml</code> template:</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n<span class=\"token keyword\">use</span> <span class=\"token package\">Magento<span class=\"token punctuation\">\\</span>Framework<span class=\"token punctuation\">\\</span>View<span class=\"token punctuation\">\\</span>Element<span class=\"token punctuation\">\\</span>Template</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">/** @var Template $block */</span>\n<span class=\"token delimiter important\">?></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span>My First Template<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>With Layout support<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?=</span> <span class=\"token variable\">$block</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">getData</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'custom_parameter'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token delimiter important\">?></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>As a result, the page should render the custom parameter.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1200px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ed37ec8bb20632b9c4fb4b827885eb69/4a4e6/custom-dynamic-data.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 62.405446293494705%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABTUlEQVQoz5WS/26CQAzH7/1fY3FL2NSNOZ9gb7D/1UTdAAXh+HXA0e96N3GORYxNPun1ri0trRiNx7h7GOHeceBMJicep0NM4c7neJ69YuK6mL66eHmb4YnPIpJ7JNEWStW4VdpWQ+vmZOuWIGSWQyYJsjxHGIYIggBlWYKIOKC9iHnXukXOcVmWoalr1GyLOM0RcSKZpqiqiitV7KjtF03QJWxF7JdynElqYm3CrFQoisJyLl1QX/oJpZS2I1OhYoRq2n/OXcBQ0k6bpE3TWCpGqPp6e0Ntn4ttWTV6sJprFXa6ZarzhLdU+Wd1jH28M2exiw7EUyb+ucTTugqvCMVxbP3jJKG6UhQlOTnvK/pY7kh8+jssFwu7fwWPv5v4CXNn+bXzM8yEM37bBAmCg4RYrbe02azJ8/0fPI+1d9Q++T28Pkf/cB/QF5+/AUZwmHFDGmzdAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Custom Parameter Rendered on a Page\"\n        title=\"Custom Parameter Rendered on a Page\"\n        src=\"/static/ed37ec8bb20632b9c4fb4b827885eb69/f0628/custom-dynamic-data.png\"\n        srcset=\"/static/ed37ec8bb20632b9c4fb4b827885eb69/8c2ab/custom-dynamic-data.png 300w,\n/static/ed37ec8bb20632b9c4fb4b827885eb69/3f01f/custom-dynamic-data.png 600w,\n/static/ed37ec8bb20632b9c4fb4b827885eb69/f0628/custom-dynamic-data.png 1200w,\n/static/ed37ec8bb20632b9c4fb4b827885eb69/4a4e6/custom-dynamic-data.png 1322w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h3>Important to Know</h3>\n<p>Even if you can use PHP inside a PHTML template, there shouldn't be any business or calculation logic located in the template.\nAll business logic should be located in a so-called Service Layer or a PHP class that represents such business logic.\nWe are going to talk more about the Service Layer in the upcoming lessons.\nPHTML templates should be as simple and tiny as possible, and only include data and simple PHP logic inside such as loops and conditions.</p>\n<h2>Other Methods for Passing Dynamic Data</h2>\n<p>This is not the only way to pass data from a PHP class to a PHTML template.\nThis is only one of the ways that you should be aware of when building custom Magento 2 functionality.\nThe preferred method of passing data to a PHTML template is a usage of a View Model class.\nThe View Model class and its capabilities is the next lesson of the <a href=\"/courses/magento-2-beginner\">Magento 2 for Beginners</a> course. </p>","frontmatter":{"path":"/courses/magento-2-beginner/passing-data-from-controller-to-template","title":"Passing Data From Controller to Template","lesson_link":"https://github.com/magemastery/passing-data-controller-template","lesson_label":"Download Source Code","description":"By the end of this lesson, you will learn how to pass data from an action controller to a template so it can be rendered on a page."}},"LessonsQuery":{"edges":[{"node":{"id":"d9a794e9-328d-526c-947b-72bd91ce5f97","frontmatter":{"title":"Introduction","path":"/courses/magento-2-beginner/introduction","time":60,"timeline_icon":"text"}}},{"node":{"id":"ce23de9b-c605-585f-b905-9a80f95bfccf","frontmatter":{"title":"Getting Started with Magento 2","path":"/courses/magento-2-beginner/getting-started-with-magento-2","time":541,"timeline_icon":"video"}}},{"node":{"id":"579b1bb8-7d60-5656-bf66-733285abb682","frontmatter":{"title":"Project Structure Overview","path":"/courses/magento-2-beginner/project-structure-overview","time":606,"timeline_icon":"video"}}},{"node":{"id":"9e5d18b8-1a30-5bb8-88eb-834d787cffcb","frontmatter":{"title":"A Module in Magento 2","path":"/courses/magento-2-beginner/module-in-magento-2","time":480,"timeline_icon":"video"}}},{"node":{"id":"bfa08926-d719-5d65-867d-97f0465b7cde","frontmatter":{"title":"Create a Page in Magento 2","path":"/courses/magento-2-beginner/create-page-magento-2","time":449,"timeline_icon":"video"}}},{"node":{"id":"7b6c6fb5-b946-55de-bae3-775a9a1f4846","frontmatter":{"title":"Template and Layout Rendering","path":"/courses/magento-2-beginner/template-layout-rendering","time":300,"timeline_icon":"video"}}},{"node":{"id":"276dc6c6-f61b-5c2c-a6a3-66633dcd9b85","frontmatter":{"title":"Passing Data From Controller to Template","path":"/courses/magento-2-beginner/passing-data-from-controller-to-template","time":255,"timeline_icon":"video"}}},{"node":{"id":"a5e6e115-4bff-5614-840e-ace500c5dd9a","frontmatter":{"title":"View Model in Magento 2","path":"/courses/magento-2-beginner/view-model-magento-2","time":300,"timeline_icon":"video"}}},{"node":{"id":"ea399999-1cca-5149-9dfc-85092788f693","frontmatter":{"title":"Model in Magento 2","path":"/courses/magento-2-beginner/model-magento-2","time":260,"timeline_icon":"video"}}}]}},"pageContext":{"isCreatedByStatefulCreatePages":false,"prev":{"html":"<p><div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.42857142857143%; position: relative; height: 0; overflow: hidden; \" > <div class=\"embedVideo-container\"> <iframe src=\"https://www.youtube-nocookie.com/embed/d_JdxSL_BMQ?rel=0\" class=\"embedVideo-iframe\" style=\"border:0; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" allowfullscreen></iframe> </div> </div></p>\n<h1>Template and Layout Rendering</h1>\n<p>Magento 2 provides a powerful mechanism on extending e-commerce functionality with custom templates. It also allows to provide additional pieces of content by utilizing a declarative approach.</p>\n<h2>Lesson Overview</h2>\n<p>In this lesson we are going to learn the following:</p>\n<ul>\n<li>How to create a template?</li>\n<li>How to render a template on a custom Magento 2 page?</li>\n<li>How to add a template via layout configuration file?</li>\n</ul>\n<h2>Before we begin</h2>\n<p>Here is the structure of the module, we are going to start with:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 410px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a7b15b731420530d295d9bcee35b9712/2cc7b/lesson-6-structure.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 114.8780487804878%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEXklEQVQ4y12USW8bRxCF5wfZgK2FWkhxX4f7vlPcxF0aiaJEUZQoWZBt2T7l4gQIkkP+RJBDgCCH/KyHvCpKgZBDTQ+66339qqanDevrj+hdPKB/9XEd80cMFp9g3X3D5OYLTlYcb9fjaPkZ45snnZccyX3RCcN6+g6je36PQqGFcrWPcqWHQqmLRnOMDw9fsbz5iLv7L5ie32J194TL+T0W148aklMsH6FEjWgLhTY6ZysCSS6Uuyg3RijVB6jIWBsgz+SCJFIg73kR1oeaJ6PklGR8nhNGh+YMeeTosFjrI1vswJreaPTHFzganmPAsTea4Whwzs2G642kktfBjYXREoet6R0yuUNNzNB2bzjD2FqgT8joeI7RyZVCh5NLVA9HummObVlHRyNPd8JoWjcwmqe3SGXqmpjON1nOADP2SgDyXqz2UKywVzUpXzZt6cbrcR3ZYlsZjZNrGA1riUSqSlgLKe4iCeJscrrQkju9U4WPrSvUW2Mksw2kc03NfQkxIoz6ZAGjfnyNWKKsiclMAzEuCLTeHKHRmuh7Il1HNFHhWg0JOvl/iFYY1fEcRnVyBTNaQDxdQ5yCaLKiJairkzk/xhTd/pm+H9P1YXsCk2LJlc0lRGvGiqgML2FURnOEIzkFRZkY4UKmwF7WevwIQwXm2XgRCkjyZHwdMhc2cygNZjBKwwsEQxlE4iWFBc08e3SIXLGtYGu6ZB8ttLonhJ/RTRUh5oSZ+xKiFUaxN4VR7M/gD6QQYtmSGAhn2ZcaXbXhY1KW0AY/xmA80znzuQpTIMyXEK0w8kdnMAqken0JBFi2wLzBNPtT4Zc7hIvzAj2/XOGvv//BaHLBw91Xx93+qWr81MgojFzHgpHrnsLtianQR5jHn9TdqxTWm0N+YTY+WWYPK7qZl05ej6IRrTAy7WMYWVKdLhMeJgjM5Y2zhLwCX6CVek+FDncUTgqdzJHc/4JaYaSbExhpUh0HIS1PYAcUCTCaKCHDsrt9Sx2a8aK6TWZruub0xqiJq0a0wkjy1zRSpO7bAzjgzgKzOyMIRrJsfIHAhjrMl1oqjCZL/PpNBe7ag5orGtEKI8Gbx0iQurvnYzkm7K4I9hwh+ENpBYbpVODDyQzff/pVNwhEMuo2RniIZ2+PzkQrjBj/dyNOqm3Hg31nWBd39v1seFJBiXSF/UnwDE7w8y+/Pbsr6rwAfcEUnQZUK4woLw8jSurWtgu7jiB2uLi964WbvRHg2/d23N59wu9//AkH3ZvxdRsEFqTTTZtbgVK+MCK80gyT19PGlhM2LtjobmvHyybHeL7SuLr+gKdvP6irbKHB88lLJFNlO/L8YyprAyxVRmGE+YsaQV49b99s4/3mAd5t2DU2tg6wue3EcvmA1eoRm0yOmDz0slGAR8YbRSCUpMaBd6xCtG/f2ODnzWPkjxfw8CD7eQXJhISPt4fETiANG8+YvLv4y7l5Cbh5jXl0LMP3nC9aYWR5ff0LvHGiAqL1soEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Module Structure Template and Layout Rendering\"\n        title=\"Module Structure Template and Layout Rendering\"\n        src=\"/static/a7b15b731420530d295d9bcee35b9712/2cc7b/lesson-6-structure.png\"\n        srcset=\"/static/a7b15b731420530d295d9bcee35b9712/8c2ab/lesson-6-structure.png 300w,\n/static/a7b15b731420530d295d9bcee35b9712/2cc7b/lesson-6-structure.png 410w\"\n        sizes=\"(max-width: 410px) 100vw, 410px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>For this tutorial, I've created the <code class=\"language-text\">MageMastery_FirstLayout</code> module with the <code class=\"language-text\">registration.php</code> and <code class=\"language-text\">module.xml</code> files. And the module has been successfully registered with the <code class=\"language-text\">bin/magento setup:upgrade</code> CLI command.</p>\n<p>The <code class=\"language-text\">registration.php</code> file:</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n\n<span class=\"token keyword\">use</span> <span class=\"token package\">Magento<span class=\"token punctuation\">\\</span>Framework<span class=\"token punctuation\">\\</span>Component<span class=\"token punctuation\">\\</span>ComponentRegistrar</span><span class=\"token punctuation\">;</span>\n\nComponentRegistrar<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token function\">register</span><span class=\"token punctuation\">(</span>\n    ComponentRegistrar<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token constant\">MODULE</span><span class=\"token punctuation\">,</span>\n    <span class=\"token single-quoted-string string\">'MageMastery_FirstLayout'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token constant\">__DIR__</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span></code></pre></div>\n<p>The <code class=\"language-text\">module.xml</code> file:</p>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token prolog\">&lt;?xml version=\"1.0\"?></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>config</span> <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>xsi</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>http://www.w3.org/2001/XMLSchema-instance<span class=\"token punctuation\">\"</span></span> \n<span class=\"token attr-name\"><span class=\"token namespace\">xsi:</span>noNamespaceSchemaLocation</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>urn:magento:framework:Module/etc/module.xsd<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>module</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>MageMastery_FirstLayout<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>config</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>For more information about the module creation and registration, please refer to the previous lesson <a href=\"/courses/magento-2-beginner/module-in-magento-2\">A Module in Magento 2</a>.</p>\n<p>In addition to this, I've added a <code class=\"language-text\">route.xml</code> file with an Action Controller class. These two files allows to access a custom page that has been declared in the <code class=\"language-text\">MageMastery_FirstLayout</code> module.</p>\n<p>The <code class=\"language-text\">routes.xml</code> file content is the following:</p>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token prolog\">&lt;?xml version=\"1.0\"?></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>config</span> <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>xsi</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>http://www.w3.org/2001/XMLSchema-instance<span class=\"token punctuation\">\"</span></span> \n<span class=\"token attr-name\"><span class=\"token namespace\">xsi:</span>noNamespaceSchemaLocation</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>urn:magento:framework:App/etc/routes.xsd<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>router</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>standard<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>route</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>magemastery_firstlayout<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">frontName</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>firstlayout<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>module</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>MageMastery_FirstLayout<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>route</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>router</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>config</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>The routes.xml file is located in the <code class=\"language-text\">MageMastery/FirstLayout/etc/frontend</code> directory. This configuration allows to access a module's controller by using the \"firstlayout\" URI path of the URL.</p>\n<p>And the Action Controller class located in the <code class=\"language-text\">MageMastery/FirstLayout/Controller/Page/View.php</code> file, the content is:</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n\n<span class=\"token keyword\">declare</span><span class=\"token punctuation\">(</span>strict_types<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">namespace</span> <span class=\"token package\">MageMastery<span class=\"token punctuation\">\\</span>FirstLayout<span class=\"token punctuation\">\\</span>Controller<span class=\"token punctuation\">\\</span>Page</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">use</span> <span class=\"token package\">Magento<span class=\"token punctuation\">\\</span>Framework<span class=\"token punctuation\">\\</span>App<span class=\"token punctuation\">\\</span>Action<span class=\"token punctuation\">\\</span>Action</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token package\">Magento<span class=\"token punctuation\">\\</span>Framework<span class=\"token punctuation\">\\</span>Controller<span class=\"token punctuation\">\\</span>ResultFactory</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token package\">Magento<span class=\"token punctuation\">\\</span>Framework<span class=\"token punctuation\">\\</span>View<span class=\"token punctuation\">\\</span>Result<span class=\"token punctuation\">\\</span>Page</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">View</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Action</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function\">execute</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">/** @var Page $resultPage */</span>\n        <span class=\"token keyword\">return</span> <span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token property\">resultFactory</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span>ResultFactory<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token constant\">TYPE_PAGE</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></span></code></pre></div>\n<h2>New Page Type Object</h2>\n<p>From the <a href=\"/courses/magento-2-beginner/create-page-magento-2\">Create a Page in Magento 2</a> lesson we've learned how to create a custom page and return a JSON-format data.\nAs you've noticed, there is an instance of the <code class=\"language-text\">Magento\\Framework\\View\\Result\\Page</code> class returned from the <code class=\"language-text\">execute()</code> method.</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token keyword\">return</span> <span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token property\">resultFactory</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span>ResultFactory<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token constant\">TYPE_PAGE</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>The idea behind creating a <code class=\"language-text\">TYPE_PAGE</code> type of a result object is to trigger the Magento 2 rendering mechanism.</p>\n<h2>Rendering</h2>\n<p>There is a new directory that we've to learn in this lesson. The directory is called <code class=\"language-text\">view</code>. As we've discussed in the <a href=\"/courses/magento-2-beginner/create-page-magento-2\">previous tutorial</a>, Magento 2 application uses different configuration areas. It is also applicable for rendering purposes. The frontend and adminhtml are the two areas we can use in order to render a custom content on a Storefront and Admin area accordingly.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1110px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4c42b842bb04aa4503fcef9f824bef6c/89581/rendering-areas-with-base.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 55.85585585585585%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACJUlEQVQoz12S6W7aQBSF/aBJAJvFNt5tbLyyby4NNIkaEqV0VVL1ITk9M1Ap6o8jz/gu891FsfM1+tEYbTuDdpFqpTDCEex4CusiIxjBGkylb9ctoNFHex/TH0KPZ1CsZA4nKNBoe7jRXMrDlerAdDOk1RrFuMawWCLOF0ionHdhu2o50vdfzHXLRtvJoejxHC0jli+8V1MfoHGRoO+R6qYXyf//+2uU+NeLpiLhjJcBVDNBUzjyK9RxS5moxbPhVzCDiudYlips6iWJFH1EDpmwQ+drlqi7OTz2qtENqQDu9JN0VPUIbjyRNpVBol/udI9rlmrxkShbwE9maDKu44+gDLYvsKot9MEMdraGmSzQ4zncHBDVzzCGS/SHCzjFBgarMdMV4tsv8BcPMOhrpUuIwQo6u/oIZfz8B+74VpJ56VyWJvoUrh8hbF1OVyNpmK/YqwSaUyB/+IXs7rtskeGV8NMFmuyveFwpH1/hsbweAz1SeHxNjyYI6yeUn1/PhCQTNpukOqmy+59Idkf0wgkcEvrlBiZXyiq3UKrDb0koBuCTwsuWcvzB+oDq8CZLMUgtbGIfO8FYJhzuvpI2l7saFITgLIx0dSLhGwn3MLnIjugVZSfnHgrCPgnFQp9tc9mz7P4HEx5hsBJb7PE55uRwFkrGfnizO1h0DqoPUi7LDjdPSGmzWKqbrRCMhK2GU9ZI9t84mKN8zC/rE2NOHindye70F7XSDgrZxOnVAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Rendering areas of a module in Magento 2\"\n        title=\"Rendering areas of a module in Magento 2\"\n        src=\"/static/4c42b842bb04aa4503fcef9f824bef6c/89581/rendering-areas-with-base.png\"\n        srcset=\"/static/4c42b842bb04aa4503fcef9f824bef6c/8c2ab/rendering-areas-with-base.png 300w,\n/static/4c42b842bb04aa4503fcef9f824bef6c/3f01f/rendering-areas-with-base.png 600w,\n/static/4c42b842bb04aa4503fcef9f824bef6c/89581/rendering-areas-with-base.png 1110w\"\n        sizes=\"(max-width: 1110px) 100vw, 1110px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>There are other files and directories might be located in the <code class=\"language-text\">view</code> directories, however, this is outside of the lesson. In the upcoming lessons we will learn about different rendering areas and how it can be used to provide different files for different areas.  </p>\n<p>In case we want to render something on a Storefront, we have to create a <code class=\"language-text\">view/frontend</code> directory. Inside this directory, all the files should be added and further to be executed in a frontend area. This happens upon Magento 2 rendering.\nInside <code class=\"language-text\">frontend</code> directory, there are two directories. The <code class=\"language-text\">layout</code> directory is used to place layout configuration files of the <code class=\"language-text\">MageMastery_FirstLayout</code> module.</p>\n<p>The <code class=\"language-text\">templates</code> directory, contains PHTML templates that have to be rendered on a Magento 2 Storefront.  </p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 410px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/06962dafb1c8c68156f039faf3414104/2cc7b/lesson-6-view-structure.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 114.8780487804878%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAAACXBIWXMAAAsTAAALEwEAmpwYAAAET0lEQVQ4y11V11YbWRCcv9kH22fXGCRACKEwyhrlGeUsoSyChACR7APH2Ozz7t/W2eoGH3v9UPTV3K7q6pswFt//xWD1BceXTxisHzG7+475/Qsmm2cdT26eMb97wfT2G6Y33zDevP5e3P/N8Vcck6Ncaiye/4HRO3+AbbdRrh7DLvUwGq9wvXnE6dkNrm+ecL66099XhMSLy89YXTzo+OR0g6LTRblGrt1B9/SOglS2yz2UG2OU6iOUiVJtiGJlgGK5D/stym/5rnmMjowlVzj8JhpdmjPkT4EOHVbJs9qCzgTHdNofnWM4ucBgvER/eI4KiT+KvOJtzO5Eoy0O22f3yBWampij7cFoicniioJLjGdrjOeXKjqaXqDaHGvRApfmJ7rk9lSjtbiB0Tq5RSZX18RsscU2hliuH1RAxk51AIdOSrJOFSna1sKv8RV5p6Majfk1jMZiAytTpVgbGVaRBHE2PbnSlruDExWfLC5Rb0+QzjeQLbQ09wfEiGjUp1cw6rNrJK2yJqZzDSQ5IaL11gTNzhQ5JqeyNcStClKZGiw6+R3CFY3qZA2jOr1EPGErSQgJEqWF0XSFISFrOaDTyXyNGV1LkTjJkivFBVow6aAyuoBRGa8RjRWQSFcoVkYsWdIWqs0ROv2FxliqpPNJySFE8FfIt2i8gNJwCaM0WiEcySkpxiqReJGt1+nqjO7O0e7N0BuesrUa52xEmfM7hCsazuAMhnO8RMjMIMK2RcyM5mGxBafa5w0Y8Fh01EWYc4LIW/wVwhWNYv8Uhk3VQNCCybZFLBjOsoUyd3fBlucoOG22zeNT6SFEF5ITIsw36Jhc0Sh0FzAKvRMc+ZMIMlnE/KE0HZW4u03ejGNuBg80Y5JFAuEM87Ka9z+QKxq5zgxGnqqHvjj8tCxivkCKa+Jw9ypsvcp1PEOp2kONLuutERrtMXe4Al8wpfkKckUj25rCyFL1wBthgqVi3qME16mgpP3DmIra5Y5+k3lFMPVzrL8t1UjzahoZqu57THhpWcQ8FDFjebZYwq4nzLXrosOdtrk50nq51kecHRwcxclJKEe4omHx5TEsqu7uBTXB44th7yCi6xRP2XDvm8jka8jbTY1BrqHftLDvjcK1H2LxqBrwsF3RSPK+Gymqutx+thfFHm27mRgw04gmCnRosnXZ8bk6TeeqKlxwWhqFs3sQ1igaCT4eRoKq2zs+nXBTYGc3gKNgEuFYDn+8c+Hdn3s88EUWKPLYZNSlGZXTYGlBMSBc0YjxOTPifJ62tg/h4qS0se0OcJGTPF9ZbG4f8eXpRR1Ek3Ko8yoWpLDJgpLvYqvCFY0o30YjzHv74f0OPn7y4q8tj2Jr24tPO4f8v/EZ9/dPXPAQkikKRjO8YmmY4TRjBh+3DjRfuB/euxDilTWKsyv4eRdDfILkgyDIqydwm1m4QhkE+KL4UmUcWT9Q0Rh8yxeuaOT5fP0HC92a9X+mMfgAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"The view directory structure\"\n        title=\"The view directory structure\"\n        src=\"/static/06962dafb1c8c68156f039faf3414104/2cc7b/lesson-6-view-structure.png\"\n        srcset=\"/static/06962dafb1c8c68156f039faf3414104/8c2ab/lesson-6-view-structure.png 300w,\n/static/06962dafb1c8c68156f039faf3414104/2cc7b/lesson-6-view-structure.png 410w\"\n        sizes=\"(max-width: 410px) 100vw, 410px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2>Layout Configuration File</h2>\n<p>The new <code class=\"language-text\">magemastery_firstlayout_page_view.xml</code> layout configuration file has to be added to the <code class=\"language-text\">MageMastery/FirstLayout/view/frontend/layout</code> directory.</p>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token prolog\">&lt;?xml version=\"1.0\"?></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>page</span> <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>xsi</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>http://www.w3.org/2001/XMLSchema-instance<span class=\"token punctuation\">\"</span></span> \n<span class=\"token attr-name\"><span class=\"token namespace\">xsi:</span>noNamespaceSchemaLocation</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>urn:magento:framework:View/Layout/etc/page_configuration.xsd<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>referenceContainer</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>content<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>block</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>Magento\\Framework\\View\\Element\\Template<span class=\"token punctuation\">\"</span></span>\n                   <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>magemastery.first.layout.example<span class=\"token punctuation\">\"</span></span>\n                   <span class=\"token attr-name\">template</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>MageMastery_FirstLayout::example.phtml<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>referenceContainer</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>page</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>The format of the layout file is pretty much similar to all the XML files in Magento 2. The root node <code class=\"language-text\">&lt;page /&gt;</code> allows to add configuration and templates that have to be rendered on a page.</p>\n<p>In order to add a custom <code class=\"language-text\">example.phtml</code> template from the <code class=\"language-text\">view/frontend/templates</code> directory, the XML declaration should be created and added to the layout configuration file.</p>\n<p>There are 3 pieces of information or node arguments have to be declared as part of the <code class=\"language-text\">block</code> node. Let's have a look at the <code class=\"language-text\">block</code> declaration example: </p>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>block</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>Magento\\Framework\\View\\Element\\Template<span class=\"token punctuation\">\"</span></span>\n       <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>magemastery.first.layout.example<span class=\"token punctuation\">\"</span></span>\n       <span class=\"token attr-name\">template</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>MageMastery_FirstLayout::example.phtml<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span></code></pre></div>\n<p>The <code class=\"language-text\">class</code> argument is responsible for providing a Block class name. The Block class is used to render a PHTML template file.\nThe <code class=\"language-text\">name</code> of the <code class=\"language-text\">block</code> is <code class=\"language-text\">magemastery.first.layout.example</code>. The name has to be unique and can be used to reference to a block from the other layout configuration files and templates.\nFor example, the <code class=\"language-text\">content</code> name or alias of a block is defined in one of the Magento 2 modules. We use the <code class=\"language-text\">content</code> block name to reference and add a block for rendering the <code class=\"language-text\">example.phtml</code> template file.</p>\n<p>The path to a template. It usually includes a name of a module joined with \"::\" template file name. The <code class=\"language-text\">example.phtml</code> file should be located in the <code class=\"language-text\">MageMastery/FirstLayout/view/frontend/templates</code> directory. As you may notice, there is no mention in the layout configuration file about the rendering area. However, Magento 2 rendering mechanism knows how to locate the corresponding area of a layout and find a path to the template.</p>\n<p>As you may notice, there is also no <code class=\"language-text\">templates</code> directory specified for the <code class=\"language-text\">template=&quot;MageMastery_FirstLayout::example.phtml&quot;</code>. In case we want to add a sub-directory inside the <code class=\"language-text\">templates</code> directory, let's say a <code class=\"language-text\">view</code> directory, the configuration of the template should include the sub-directory <code class=\"language-text\">template=&quot;MageMastery_FirstLayout::view/example.phtml&quot;</code>.</p>\n<p>The <code class=\"language-text\">example.phtml</code> file is a simple and static template that provides a few HTML tags.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span>My First Template<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>With Layout support<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>The content of the <code class=\"language-text\">example.phtml</code> file is rendered by the <code class=\"language-text\">Magento\\Framework\\View\\Element\\Template</code> class.</p>\n<h2>Layout File Name</h2>\n<p>Let's have a look at the layout file name. The <code class=\"language-text\">magemastery_firstlayout_page_view.xml</code> file name is not an easy-to-guess name. There is some naming convention comes into place.</p>\n<p>First of all, a name of the layout file should include the ID of the route. The ID of the route is located in the <code class=\"language-text\">etc/frontend/routes.xml</code> file. In case of this lesson this is the <code class=\"language-text\">magemastery_firstlayout</code> ID.\nThe <code class=\"language-text\">page</code> part of the layout name comes from a name of the controller directory. Finally, the last <code class=\"language-text\">view</code> path is the name of a controller class, which is <code class=\"language-text\">View</code>.</p>\n<p>Once, we have a custom controller and we want to render a page with the custom layout. The <code class=\"language-text\">magemastery_firstlayout_page_view</code> name should be provided. Magento 2 will match the the layout configuration file, load the declared list of templates and classes, and render the content of the template on a page.</p>\n<p>As the result, we can navigate to the https://magento2ce.magemastery.net/firstlayout/page/view URL and observe a custom page with the custom content rendered on the page.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1110px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2867aa331d0e86a3159ed8e8e7e78544/89581/layout-and-template-custom-page.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 65.76576576576576%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAABV0lEQVQ4y52SbU+DMBDH+/0/hSaLbjpw7uGlL9hg2RI/gYmJe+FUYIyW8TAK+3sFRhRH4lbyy13b6//K9djVfR/XNx10ej10dQ1dTStsT9dPctwbTCbQRyP0h4/QhkM8jMe4GwzA7O0nhLdGmkqcOw55DilTcg7lnCzzuIDwOUQQwPM82LaNKI6hQnI60M6hEDhUQgqZ5SQodvD9LcIwpFumSJIEWZbVGf+LGpISsXCfqqP1Yv07jXlz/ZRgVghWtTsV0CbaluSP4E/hsx7nl+Benl2vNooaRhe0S+tN6WNBnBT9pF72EvI8o3bJ4PAYPNyDrd7XWK3e8EX9xzkHF6K0lS8aqHXHcbDZbOC6LrXbDlse4NZ4xfPLB5jj+XApIIqiMquUJeRLsk2OezVSWVW2vNhnT6aFqWViNp+TtQpmlbUWC8yXS4Js5ZsUZ5gmpoRRcTxnEN8fNuDKddSsoAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Layout and Template rendering on a Custom Page\"\n        title=\"Layout and Template rendering on a Custom Page\"\n        src=\"/static/2867aa331d0e86a3159ed8e8e7e78544/89581/layout-and-template-custom-page.png\"\n        srcset=\"/static/2867aa331d0e86a3159ed8e8e7e78544/8c2ab/layout-and-template-custom-page.png 300w,\n/static/2867aa331d0e86a3159ed8e8e7e78544/3f01f/layout-and-template-custom-page.png 600w,\n/static/2867aa331d0e86a3159ed8e8e7e78544/89581/layout-and-template-custom-page.png 1110w\"\n        sizes=\"(max-width: 1110px) 100vw, 1110px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2>Homework</h2>\n<p>The homework for this lesson. </p>\n<ol>\n<li>Create a <code class=\"language-text\">hello.phtml</code> template under the <code class=\"language-text\">MageMastery/FirstTemplate/view/frontend/template/view</code> directory.</li>\n<li>Add the template into the <code class=\"language-text\">magemastery_firstlayout_page_view.xml</code> file as an additional block declaration, that should go after the <code class=\"language-text\">example.phtml</code> block.</li>\n<li>Check that the new content of the <code class=\"language-text\">hello.phtml</code> template is rendered on the page.</li>\n</ol>\n<h2>Next Steps</h2>\n<p>Subscribe to the Mage Mastery newsletter to hear first about new lessons and courses.</p>","id":"7b6c6fb5-b946-55de-bae3-775a9a1f4846","frontmatter":{"path":"/courses/magento-2-beginner/template-layout-rendering","title":"Template and Layout Rendering","time":300,"course":"magento-2-beginner","order":60,"image":null}},"next":{"html":"<p><div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.42857142857143%; position: relative; height: 0; overflow: hidden; \" > <div class=\"embedVideo-container\"> <iframe src=\"https://www.youtube-nocookie.com/embed/tjIcX4pbal4?rel=0\" class=\"embedVideo-iframe\" style=\"border:0; position: absolute; top: 0; left: 0; width: 100%; height: 100%; \" allowfullscreen></iframe> </div> </div></p>\n<h1>View Model in Magento 2</h1>\n<p>A view model is a class that allows you to pass data and additional functionality from a place that represents a business logic to a template. It also can provide data loaded from an entity, for example, a product. The view model allows developers to simplify templates and block classes by providing separate classes that are easier to test and maintain.</p>\n<p>The View Model class can hold calculation logic, data lookups, object fetches and pass it directly to a template, so the template’s logic can be as simple as possible.</p>\n<p>View Models usually located in the module’s directory called ViewModel. The location of view model classes, however, is not limited to a ViewModel directory. You can create as many view models as needed in order to provide a required set of separate classes with its own logic.</p>\n<h2>Lesson Overview</h2>\n<p>In this lesson we are going to learn the following:</p>\n<ul>\n<li>What is a View Model?</li>\n<li>How to use View Model?</li>\n<li>When to use a View Model?</li>\n</ul>\n<h2>View Model Example</h2>\n<p>The concept of a view model is simple, and at the same time powerful. Let’s jump into the example to better understand the creation flow. In order to implement a view model, we have to create a PHP class in ViewModel directory.</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">ProductViewModel</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">private</span> <span class=\"token variable\">$resource</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function\">__construct</span><span class=\"token punctuation\">(</span>Resource <span class=\"token variable\">$resource</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token property\">resource</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$resource</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function\">getProductBySku</span><span class=\"token punctuation\">(</span>string <span class=\"token variable\">$sku</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> ProductInterface\n    <span class=\"token punctuation\">{</span>\n         <span class=\"token keyword\">return</span> <span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token property\">resource</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">load</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$sku</span><span class=\"token punctuation\">,</span> ‘sku’<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>The only requirement is that the ProductViewModel class must implement Magento\\Framework\\View\\Element\\Block\\ArgumentInterface.\nLet's add it.</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token keyword\">use</span> <span class=\"token package\">Magento<span class=\"token punctuation\">\\</span>Framework<span class=\"token punctuation\">\\</span>View<span class=\"token punctuation\">\\</span>Element<span class=\"token punctuation\">\\</span>Block<span class=\"token punctuation\">\\</span>ArgumentInterface</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">ProductViewModel</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">ArgumentInterface</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">//...</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Once the view model class is created, we have to add it to a layout XML file. So that during layout rendering, it will find the view model class, instantiate it and add into the pool of a Block class dependencies.</p>\n<p>A Layout XML file should be located in the view/frontend/layout directory of the module. In the Template and Layout rendering lesson, we’ve discussed different layout configuration areas. Make sure to check the lesson to better understand frontend and adminhtml directory locations for layout xml files.</p>\n<p>Inside the layout file, we have to add new <argument /> node in the <arguments /> and.\nThe two attributes should be added to the <argument /> node, the name of the view model variable and its type, the type should be always set to an object since we pass a class name that has to be initiated as a view model.</p>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token prolog\">&lt;?xml version=\"1.0\"?></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>page</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>referenceBlock</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>block.name<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>arguments</span><span class=\"token punctuation\">></span></span>\n                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>argument</span> \n                    <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>view_model<span class=\"token punctuation\">\"</span></span> \n                    <span class=\"token attr-name\"><span class=\"token namespace\">xsi:</span>type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>object<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>MageMastery\\ViewModelExample\\ViewModel\\ProductViewModel<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>argument</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>arguments</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>referenceBlock</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>page</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>From the example above, a \"block.name\" can be a name of a block, where we want to add a View Model class.</p>\n<p>Inside the <argument /> node we have to provide the full class name of the view model.\nRemember, all objects that are injected to block arguments as view models should implement ArgumentInterface interface.</p>\n<p>Finally, the template of the block to which we’ve added the view model class can get access to the view model.\nThe view model object is passed as an argument of the Template object. It can be accessed via the getData() method by providing the name of the argument we’ve provided in the layout XML file.</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token comment\">/** @var ProductData $productData */</span>\n<span class=\"token variable\">$productData</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$block</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">getData</span><span class=\"token punctuation\">(</span>“view_model”<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>After we’ve received an access to the view model, we can start using it in the template.</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?=</span> <span class=\"token variable\">$productData</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">getProductBySku</span><span class=\"token punctuation\">(</span>‘sku’<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token delimiter important\">?></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>And as a result, the data provided from the view model class is rendered by a template.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1200px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/7ecc4164e8ca032f9f870e3fa093d4ff/eff2e/view-model-rendering-result.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACf0lEQVQoz4WRy09TQRTG+3cQKfJqL23vo6Xl9iVQHgG6cmkCPjAgKkQ0RWIQ3BAlBkSRh0ppsJhoK6aUhQYXhsSycMMCA4sSxY0GAqQghBIaOJ/TK13UGP2SL2cyM+eXb86oTj8OocH3Ds3+GbQwX3k+g1b/W9QOTeLMwGucHQziwvAkGp6+weXREFrGptDqC6Pj1XvcDX9EV3AWHS8/UFdgFr3Tc6QyW0xw2M2w2cyw2y2wWEQ0NTZhoL8X3X096H04iL5jP3g0pNTBkVFcrD8Ps4nHrSY3xu/Vkb+nFs11FaRyFAlwyTxskhYGHYfskycw0tePxMY3fFmLYn0jhs3NbeYtrK6u4/uPNfzcieNOVycyMjJw/7obc+OX6JO/Ed1XK0llL5JQxoDlrlJUVddAlmWM+XyIbe9i8fMSVla+IhqNYnl5GfF4HPv7+0jK4/FArc6ChtNDnZ1PeflaWExCEigeA11wu92wWq2YmJjAViyGSCSCxaUlLCwsYH5+HolEAim1t7czoBqiIECv15NR5OGQpd9Ak02CaOchWXnkiTkY8Q4rTbu7O0qivb09xYeHhzg6OkoDCgyo0+lIEgxgLDZDWYLTZoPd4URxSQkkkwiv16s0ERH+1N+ABQwopoB2i0g1xYVU6XKRq6SMRK2Gnj3xJkl0cHBALFWa2bOVs7a2m5SZmUkGnieuQEcCbyAF6GQJq0sL4a4uR1VVBWSzES/YDP+nzs7byMnOgskogsGSH4JTVjZD2SyQky2srDqKJCoUOfLcuEbh8DQFAgEKBoNpTu6FQlPUUH9Oueu0GpVkSViSpSpgcTlOp8ROWaPRUm5u7j+t1XJpPSnGLxWiGtV1dXXkAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"View Model Rendering result\"\n        title=\"View Model Rendering result\"\n        src=\"/static/7ecc4164e8ca032f9f870e3fa093d4ff/f0628/view-model-rendering-result.png\"\n        srcset=\"/static/7ecc4164e8ca032f9f870e3fa093d4ff/8c2ab/view-model-rendering-result.png 300w,\n/static/7ecc4164e8ca032f9f870e3fa093d4ff/3f01f/view-model-rendering-result.png 600w,\n/static/7ecc4164e8ca032f9f870e3fa093d4ff/f0628/view-model-rendering-result.png 1200w,\n/static/7ecc4164e8ca032f9f870e3fa093d4ff/57025/view-model-rendering-result.png 1800w,\n/static/7ecc4164e8ca032f9f870e3fa093d4ff/eff2e/view-model-rendering-result.png 1920w\"\n        sizes=\"(max-width: 1200px) 100vw, 1200px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2>View Model Checklist</h2>\n<p>Let’s recap what we need to create and use a view model.</p>\n<ol>\n<li>Create a PHP class</li>\n<li>Add an ArgumentInterface</li>\n<li>Add a PHP Class into a layout xml</li>\n<li>Retrieve a View Model in a template</li>\n<li>Use View Model public methods</li>\n</ol>\n<h2>When to use a View Model?</h2>\n<p>A view model should be used every time you have to pass data from storage or the other object to a template for rendering. It includes calculation logic, data lookups, object fetches and so on.</p>\n<p>A view model has to be used instead of a block, so your code will be less dependent on block changes in the Magento 2 framework.</p>\n<h2>Conclusion</h2>\n<p>A view model in Magento 2 is a powerful mechanism that allows us to represent and provide data ready for rendering in a template.\nIt provides a simple tool that is recommended to use every time a UI customization should be added.</p>","id":"a5e6e115-4bff-5614-840e-ace500c5dd9a","frontmatter":{"path":"/courses/magento-2-beginner/view-model-magento-2","title":"View Model in Magento 2","time":300,"course":"magento-2-beginner","order":80,"image":null}},"courseElement":{"html":"<h2>Course Overview</h2>\n<p>This course is for developers who want to start developing with Magento 2. The course covers basics so you can get up to speed with Magento 2 platform and its architecture.</p>\n<p>We assume that you have little to no experience with Magento 2 platform. The course is built in the easy-to-follow path where you will get all the necessary skills and experience for building websites powered with Magento 2. </p>\n<p>Each lesson provides a video tutorial as well as written content material with the download link to a lesson's source code.</p>\n<p>This course is based on Magento Open Source 2.3.</p>\n<h2>For those who want to</h2>\n<ul>\n<li>Explore Magento 2 framework features and capabilities</li>\n<li>Learn Magento 2 technical glossary e.g. View Model, Controller, Layout, UI Component etc</li>\n<li>Start building Magento 2 websites, but don't know where to get information from.</li>\n</ul>\n<h2>What will you be able to do?</h2>\n<p>Here are just a few things you’ll be able to do after the <strong>Magento 2 for Beginners</strong> course.</p>\n<ul>\n<li>Understand how Magento 2 works. Easily create Magento 2 features and custom Magento 2 modules with one of the leading e-commerce platform in the world.</li>\n<li>Build powerful e-commerce websites. Use all power of PHP OOP and JavaScript components in Magento 2 to create stunning websites.  </li>\n<li>Create clean and high-quality Magento 2 extensions. No more legacy Magento 1 approaches and outdated courses. Start today and learn from the Magento Expert.</li>\n</ul>\n<h2>Are you ready to start your Mage Mastery journey?</h2>\n<p>Start an Introduction lesson of the Magento 2 for Beginners course and follow the course lesson-by-lesson. You will enjoy it.</p>","id":"ffe45dee-c376-5e70-b8b8-9fe66930b73b","frontmatter":{"path":"/courses/magento-2-beginner","title":"Magento 2 for Beginners","code":"magento-2-beginner"}},"courseCode":"magento-2-beginner"}}}